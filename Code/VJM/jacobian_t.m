function J = jacobian_t(q, passive_deflection)
t = -passive_deflection;
q = -q;
% constanst
l1 = 0.1; l2 = 0.1; l3 = 0.1;
% ----------------------------------------------------------------------------

% t1 First actuator joint
T01 = DRz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J1 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% First Virtual spring
% t2
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = DRx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J2 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t3
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* DRy(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J3 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t4
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * DRz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J4 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t5
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * DTx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J5 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t6
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * DTy(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J6 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t7
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * DTz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J7 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t8 Second actuated joint
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = DRy(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J8 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% The first and second springs as 1DOF Virtual spring
% t9
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = DRy(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J9 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t10 Second 6DOF spring
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = DRx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J10 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t11
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* DRy(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J11 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t12
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * DRz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J12 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t13
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * DTx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J13 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t14
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * DTy(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J14 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t15
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * DTz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J15 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t16 Third actuated joint
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = DRy(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J16 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t17 Third 1DOF spring
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = DRy(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J17 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t18 third 6DOF spring
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = DRx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J18 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t19
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* DRy(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J19 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t20
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * DRz(t(20)) * Tx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J20 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t21
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * DTx(t(21)) * Ty(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J21 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t22
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * DTy(t(22)) * Tz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J22 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

% t23
T01 = Rz(t(1))*Rz(q(1))*Tz(l1);
T_sp1 = Rx(t(2))* Ry(t(3)) * Rz(t(4)) * Tx(t(5)) * Ty(t(6)) * Tz(t(7));

T1_s2 = Ry(t(8))*Ry(q(2));
T_sp2 = Ry(t(9));
T12 = T1_s2*T_sp2*Tz(l2);
T_sp3 = Rx(t(10))* Ry(t(11)) * Rz(t(12)) * Tx(t(13)) * Ty(t(14)) * Tz(t(15));

T2_s4 = Ry(t(16))*Ry(q(3));
T_sp4 = Ry(t(17));
T23 = T2_s4*T_sp4*Tx(l3);
T_sp5 = Rx(t(18))* Ry(t(19)) * Rz(t(20)) * Tx(t(21)) * Ty(t(22)) * DTz(t(23));

T03 = T01* T_sp1*T12*T_sp3*T23*T_sp5;

J23 = [T03(1,4), T03(2,4), T03(3,4), T03(3,2), T03(1,3), T03(2,1)]';
% ----------------------------------------------------------------------------

J = [J1 J2 J3 J4 J5 J6 J7 J8 J9 J10 J11 J12 J13 J14 J15 J16 J17 J18 J19 J20 J21 J22 J23];

